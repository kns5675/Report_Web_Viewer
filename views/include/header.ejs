<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/header.css"/>
    <script src="js/viewer.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
    <script src="js/lib/canvas2image.js"/>

    <script>
        $(function(){
            $('#print').click(function(){
                pagePrint();//지연 - 페이지 비율을 100%로 고정하여 인쇄 페이지 이동
            });
            $('#txtZoom').on("change",function(){
                test();//지연 - 기존 zoomIn,zoomOut 값을 받아와 scale 조정
            });
            $("#copyOptions").on("change",function(){
                copyoptions();  //지연 - 인쇄버튼 또는 고급인쇄창 옵션을 결정하는 function
            });
            $("#saveAsImage").on("change",function(){
                imageOptions();  //지연 - 이미지 타입 결정하여 화면을 저장 function
            });
            $("#btnZoomIn").click(function(){
               zoomIn();  //지연 - 화면 zoomIn function
            });
            $("#btnZoomOut").click(function(){
                zoomOut();  //지연 - 화면 zoomOut function
            });
            $("#showpages").click(function(){
                $("#showPages").show(); //지연 - 여러페이지보기 - 개발보류
            });
            $("div.room").mouseover(function(){
               $(this).css("background-color","#CADFFF");  //지연 - 여러페이지보기 front개발중 개발 보류
            });
            $("div.room").mouseleave(function(){
                $(this).css("background-color","white");  //지연 - 여러페이지보기 front개발중 개발 보류
            });
            $(".saveAsPdf").on("click", function(){
                var imageName = "PDF";
                beginLoading(imageName);
                $("#loadingModal").css("display","block");
                makePdf().then(function(area){
                    beforeSaving(area[0], area[1], area[2]).then(function(area){
                        createPdf(area[0], area[1], area[2]).then(function(){
                            saving();
                            endingLoading();
                          }
                        );
                    });
                }).then(function(){
                });
            });
            $("#showpages").on("click", function () {
                print_test();
            });
            $("#saveAsHTML").on("mouseup",function(){
                var imageName = 'HTML';
                beginLoading(imageName);
                makeHTML();
                endingLoading();
            });
        });
    </script>
    <style>
      a:visited{
        text-decoration:none;
      }
      a{
        text-decoration:none;
      }
    </style>
    <title></title>
  </head>
  <body>
<div class="topMenu">
<ul style="margin: 0px">
  <li><input type="button" id="saving"><a download="saving_name" id="saving">저장</a></li>
  <li><input type="button" value="파일열기" id="file_opener"></li>
  <li>
    <select id="copyOptions">
      <option id="defaultoption"selected disabled hidden>--인쇄--</option>
      <option id="print" value="copy">인쇄</option>
      <option id="enhancedcopy" value="ecopy">고급인쇄설정</option>
    </select>
  </li>
  <li><input type="button" value="첫 페이지" id="FirstPage"></li>
  <li><input type="button" value="이전 페이지" id="PreviousPage"></li>
  <li><input type="text" value=1 id="NowPage"> /</li>
  <li><a id="TotalPage">10</a></li>
  <li><input type="button" value="다음 페이지" id="NextPage"></li>
  <li><input type="button" value="마지막 페이지" id="LastPage"></li>
  <li><input type="button" value="한 페이지만 보기"></li>
  <li><input id="showpages" type="button" value="여러 페이지 보기">
  <!--<div id="showPages">-->

    <!--<div id="rectangles">-->
      <!--<div id="howmany">-->
        <!--<p>a x b pages</p>-->
      <!--</div>-->
      <!--<div id="howmanybottom">-->
        <!--<div class="room"><input value="(0,0)" hidden></div>-->
        <!--<div class="room"><input value="(0,1)" hidden></div>-->
        <!--<div class="room"><input value="(0,2)" hidden></div>-->
        <!--<div class="room"><input value="(0,3)" hidden></div>-->
        <!--<div class="room"><input value="(1,0)" hidden></div>-->
        <!--<div class="room"><input value="(1,1)" hidden></div>-->
        <!--<div class="room"><input value="(1,2)" hidden></div>-->
        <!--<div class="room"><input value="(1,3)" hidden></div>-->
        <!--<div class="room"><input value="(2,0)" hidden></div>-->
        <!--<div class="room"><input value="(2,1)" hidden></div>-->
        <!--<div class="room"><input value="(2,2)" hidden></div>-->
        <!--<div class="room"><input value="(2,3)" hidden></div>-->
        <!--<div class="room"><input value="(3,0)" hidden></div>-->
        <!--<div class="room"><input value="(3,1)" hidden></div>-->
        <!--<div class="room"><input value="(3,2)" hidden></div>-->
        <!--<div class="room"><input value="(3,3)" hidden></div>-->
      <!--</div>-->

    <!--</div>-->
  <!--</div>-->
  </li>
  <li>
    <select id="txtZoom">
      <option value="2.0">200%</option>
      <option value="1.5">150%</option>
      <option selected value="1.0">100%</option>
      <option value="0.8">80%</option>
      <option value="0.5">50%</option>
      <option id="option1" style="display:none;">test</option>
    </select>
  </li>
  <li><input type="button" id="btnZoomIn" value="+"></li>
  <li><input type="button" id="btnZoomOut" value="-"></li>
  <li><input type="button" value="PDF"class="saveAsPdf"></li>
  <li>
    <select id="saveAsImage">
      <option id="saveAsDefault"selected disabled hidden>--이미지--</option>
      <option id="saveAsPng" value="png">PNG</option>
      <option value="jpeg"><a id="saveAsJpg">JPEG</a></option>
      <option id="saveAsBmp" value="bmp">BMP</option>
      <option id="saveAsTiff" value="tiff">TIFF</option>
      <option id="saveAsGif" value="gif">GIF</option>
    </select>
  </li>
  <li><button><a id="saveAsHTML" type="button" style="text-decoration: none;">HTML</a></button></li>
  <li><input type="button" value="이미지 추가" class="image_upload_button">
  </li>
  <li><input type="button" value="항목 선택" id="tableChoice"></li>
  <li><input type="button" value="리포트 선택" id="reportChoice"></li>
</ul>
</div>
  </body>
<script>
    var pagecount = $(".page").length;
    $("#TotalPage").text(pagecount); //totalpage

    $(document).ready(function () {
        FirstPage();
        NowPage();
        PreviousPage();
        NextPage();
        LastPage(pagecount);
        HeaderFixAndPageScroll(pagecount);
        image_upload();
        DRD_button();
        tableChoice();
        $("#h1 > .test").val();
    });

</script>
</html>
